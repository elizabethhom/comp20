<!DOCTYPE html>

<html>

<head>
	<style>
		body { font-family: Arial, Helvetica, sans-serif; text-align: center; }
		h1 { background-color: #008B8B; padding: 5px; color: white; }
		h3 { color: #20B2AA; }
		.button { background-color: #008B8B; color: white; border: none; padding: 2px;
				  padding-left: 7px; padding-right: 7px; border-radius: 5px;}
		.button:hover { background-color: #ADD8E6; color: black; transition-duration: 0.4s; }

	</style>
	<title>Set List</title>
</head>

<body>
	<h1>Elizabeth's Cover Band Set List</h1>

	<form onsubmit="return false">
		<label for="genres">Filter by genre:</label>
		<select id="genres" name="genres">
			<option value="Indie">Indie</option>
			<option value="Pop">Pop</option>
			<option value="K-Pop">K-Pop</option>
			<option value="Rock">Rock</option>
		</select>
		<input type="submit" class="button" value="Filter" onclick="filterSongs()">
	</form>

	<p id="songs"></p>

	<script>

		var setList = [
		{
			"Artist": "Japanese Breakfast",
			"Title": "Road Head",
			"Genre": ["Indie"],
			"Year": 2017
		}, {
			"Artist": "AJ Mitchell",
			"Title": "Down In Flames",
			"Genre": ["Pop"],
			"Year": 2019
		}, {
			"Artist": "One Direction",
			"Title": "What Makes You Beautiful",
			"Genre": ["Pop"],
			"Year": 2011
		}, {
			"Artist": "Secondhand Serenade",
			"Title": "Fall For You",
			"Genre": ["Indie", "Pop"],
			"Year": 2008
		}, {
			"Artist": "Eric Nam",
			"Title": "Congratulations",
			"Genre": ["K-Pop", "Pop"],
			"Year": 2019
		}, {
			"Artist": "Lewis Capaldi",
			"Title": "Before You Go",
			"Genre": ["Indie"],
			"Year": 2019
		}, {
			"Artist": "Alec Benjamin",
			"Title": "Let Me Down Slowly",
			"Genre": ["Pop", "Indie"],
			"Year": 2018
		}, {
			"Artist": "FINNEAS",
			"Title": "Let's Fall in Love for the Night",
			"Genre": ["Indie"],
			"Year": 2019
		}, {
			"Artist": "Coldplay",
			"Title": "Viva la Vida",
			"Genre": ["Pop"],
			"Year": 2015
		}, {
			"Artist": "Panic! At The Disco",
			"Title": "House of Memories",
			"Genre": ["Pop", "Rock"],
			"Year": 2016
		}];

		var HTML = "";
		var keys = Object.keys(setList[0]);

		function filterSongs() {

			var genreElem = document.getElementById("genres");
			var selectedGenre = genreElem.options[genreElem.selectedIndex].text;

			for (var i = 0; i < setList.length; i++) {
				if (genreMatch(selectedGenre, i) == 1) {
					for (var j = 0; j < keys.length; j++) {
						if (j == 0) {
							HTML += "<h3>" + Object.values(setList[i])[1] + "</h3>";
						} else if (j == 1) {
							HTML += keys[0] + ": " + Object.values(setList[i])[0] + "<br>";
						} else {
							HTML += keys[j] + ": " + Object.values(setList[i])[j] + "<br>";
						}
					}
				}
			}

			document.getElementById("songs").innerHTML = HTML;
			HTML = "";
		}

		function genreMatch(selectedGenre, currSong) {
			var numGenres = Object.values(setList[currSong])[2].length;
			
			for (var i = 0; i < numGenres; i++) {
				if (selectedGenre == Object.values(setList[currSong])[2][i]) {
					return 1;
				}
			}
			return 0;
		}

	</script>
</body>

</html>